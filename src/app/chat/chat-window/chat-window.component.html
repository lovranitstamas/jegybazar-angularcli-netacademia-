<div class="card">
  <div class="card-header">
    header
  </div>
  <div class="card-body">    
    <ng-container *ngIf="chatMessages$ | async as chatMessages; else loadingChat">
      <ng-container *ngIf="chatMessages.length; else notFoundMessage">
        <ul class="chat-messages-list">
          <li class="left clearfix" *ngFor="let msg of chatMessages">
              <span class="float-left">
                <img *ngIf="msg.userPictureUrl; else placeholderImage" [src]="msg.userPictureUrl" alt="Felhasználó képe" class="user-image rounded-circle">
                <ng-template #placeholderImage>
                  <img src="assets/chat_user_placeholder.png" alt="Felhasználó képe" class="user-image rounded-circle placeholder-image">
                </ng-template>
              </span>
              <div class="clearfix chat-message">
                <div class="chat-message-header">
                  <strong>{{ msg.userName }}</strong>
                  <small class="float-right text-muted">X idővel ezelőtt</small>
                </div>
                <p>
                  {{ msg.msg }}
                </p>
              </div>
            </li>
          </ul>  
      </ng-container>
      <ng-template>
        <strong>Nincs még üzenet</strong>
      </ng-template>
    </ng-container>
    <ng-template #loadingChat>
      <app-loading-spinner [loaderWidth]="100" [loaderHeight]="100"></app-loading-spinner>
    </ng-template>
  </div>
  <div class="card-footer">
    <form class="input-group"  [formGroup]="form" (ngSubmit)="sendMessage()">
      <input type="text" name="chat-message" formControlName="chat-message"
              class="form-control" placeholder="Üzenet..."
              [ngClass]="{'is-invalid':invalidChatMessageInput}"
              #chatMessageInput>
      <span class="input-form-group">
        <button class="btn btn-primary" type="submit">Küldés</button>
      </span>
    </form>
  </div>
</div>
